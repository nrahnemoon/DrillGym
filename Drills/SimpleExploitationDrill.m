classdef SimpleExploitationDrill < Drill
    
    properties (Constant)
        name = "SimpleExploitation Drill";
        description = "Does a exploration of all Bandits and Exploits the one with local maxima";
    end
    
    properties
    end

    methods
        function self = SimpleExploitationDrill(numFrequencies, energyPerCycle)
            self@Drill(numFrequencies, energyPerCycle);
            self.setUniformEnergies();
        end
        
        function receiveFeedbackEnergies(self, feedbackEnergies)
            self.feedbackEnergies = feedbackEnergies;
            self.transmissionEnergies = self.transmissionEnergies - self.feedbackEnergies; % Loss
            % Best Bandit - Exploration
            [Val, Idx] =  max(self.transmissionEnergies);
            
            % Exploitation
            self.transmissionEnergies(self.transmissionEnergies < Val) = 0;; % Set Everything to zero
            
            
            
            self.transmissionEnergies = self.transmissionEnergies .* (self.energyPerCycle/sum(self.transmissionEnergies));
        end
    end
end
